function f(e,a){let i=1,t=e;for(;t&&t.previousElementSibling!==null&&(!a||t.previousElementSibling.localName==a)&&(i++,t=t.previousElementSibling,!!t.previousElementSibling););return i}function u(e){const a=e.ownerDocument;let i=t=>{let n=t.nodeType===1?a.createElement(t.nodeName):t.cloneNode(!0);if(t.attributes)for(let r of Array.from(t.attributes))r.name!=="data-processed"&&n.setAttribute(r.name,r.value);for(let r of Array.from(t.childNodes))if(r.nodeType==1){if(!t.hasAttribute("data-empty"))if(r.hasAttribute("data-original")){for(let o of Array.from(r.childNodes)){let s=n.appendChild(i(o));s.nodeType===1&&s.hasAttribute("data-origid")&&(s.setAttribute("id",s.getAttribute("data-origid")),s.removeAttribute("data-origid"))}return n}else n.appendChild(i(r))}else n.appendChild(r.cloneNode());return n};return i(e)}function c(e){return e.replace(/ .*$/,"")}function p(e,a=!0){const i=e.ownerDocument;if(e.childNodes.length>0){let t=i.createElement("span");e.appendChild(t),t.setAttribute("hidden",""),t.setAttribute("data-original","");for(let n of Array.from(e.childNodes))if(n!==t){if(n.nodeType===1){n.setAttribute("data-processed","");for(let r of n.querySelectorAll("*"))r.setAttribute("data-processed","")}t.appendChild(e.removeChild(n))}if(a)for(let n of Array.from(t.querySelectorAll("*")))n.hasAttribute("id")&&(n.setAttribute("data-origid",n.getAttribute("id")),n.removeAttribute("id"))}}function h(e){return this.rw(this.first(e))}function m(e,a){let i="";for(let t=0;t<a;t++)i+=e;return i}function g(e){let a=this.prefixDefs[e.substring(0,e.indexOf(":"))];return e.replace(new RegExp(a.matchPattern),a.replacementPattern)}function b(e){return this.prefixDefs[e]}function A(e){return e.match(/^(?:http|mailto|file|\/|#).*$/)?e:this.base+this.utilities.first(e)}function l(e,a,i){let t="",n=r=>!/[^\t\n\r ]/.test(r);if(!a&&e.nodeType==1){typeof i=="string"&&i!==""?t+=`
`+i+"<":t+="<",t+=e.getAttribute("data-origname");let r=e.hasAttribute("data-origatts")?e.getAttribute("data-origatts").split(" "):[];for(let o of Array.from(e.attributes))!o.name.startsWith("data-")&&!["id","lang","class"].includes(o.name)&&(t+=" "+r.find(function(s){return s.toLowerCase()==o.name})+'="'+o.value+'"'),o.name=="data-xmlns"&&(t+=' xmlns="'+o.value+'"');e.childNodes.length>0?t+=">":t+="/>"}for(let r of Array.from(e.childNodes))switch(r.nodeType){case 1:typeof i=="string"?t+=l(r,!1,i+"  "):t+=l(r,!1,i);break;case 7:t+="<?"+r.nodeValue+"?>";break;case 8:t+="<!--"+r.nodeValue+"-->";break;default:if(a&&n(r.nodeValue)&&(t+=r.nodeValue.replace(/^\s*\n/,"")),typeof i=="string"&&n(r.nodeValue))break;t+=r.nodeValue}return!a&&e.childNodes.length>0&&(typeof i=="string"?t+=`
`+i+"</":t+="</",t+=e.getAttribute("data-origname")+">"),t}function y(e){return e.replace(/&gt;/,">").replace(/&quot;/,'"').replace(/&apos;/,"'").replace(/&amp;/,"&")}function d(e){return e.includes(":"),e.replace(/:/,"-").toLowerCase()}function N(e,a=null,i=!1){try{window.customElements.define(d(e),class extends HTMLElement{constructor(){super(),this.matches(":defined")||(a&&a.call(this),this.setAttribute("data-processed",""))}connectedCallback(){this.hasAttribute("data-processed")||(a&&a.call(this),this.setAttribute("data-processed",""))}})}catch(t){i&&(console.log(d(e)+" couldn't be registered or is already registered."),console.log(t))}}const C=Object.freeze(Object.defineProperty({__proto__:null,copyAndReset:u,defineCustomElement:N,first:c,getOrdinality:f,getPrefixDef:b,hideContent:p,normalizeURI:h,repeat:m,resolveURI:g,rw:A,serialize:l,tagName:d,unEscapeEntities:y},Symbol.toStringTag,{value:"Module"}));export{N as d,p as h,l as s,d as t,C as u};
